(this["webpackJsonpportal-ui"]=this["webpackJsonpportal-ui"]||[]).push([[112],{467:function(e,t,n){"use strict";var a=n(36),c=n(4),i=n(3),r=n(2),s=(n(12),n(8)),o=n(115),l=n(32),u=n(11),b=n(14),j=n(9),d=n(93),O=n(116);function f(e){return Object(d.a)("MuiCircularProgress",e)}Object(O.a)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m,x,h,p,v,g,k,S,y=n(0),E=["className","color","disableShrink","size","style","thickness","value","variant"],T=44,C=Object(l.c)(v||(v=m||(m=Object(a.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),_=Object(l.c)(g||(g=x||(x=Object(a.a)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),N=Object(j.a)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Object(u.a)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return Object(i.a)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Object(l.b)(k||(k=h||(h=Object(a.a)(["\n      animation: "," 1.4s linear infinite;\n    "]))),C)})),w=Object(j.a)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),B=Object(j.a)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Object(u.a)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return Object(i.a)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Object(l.b)(S||(S=p||(p=Object(a.a)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),_)})),I=r.forwardRef((function(e,t){var n=Object(b.a)({props:e,name:"MuiCircularProgress"}),a=n.className,r=n.color,l=void 0===r?"primary":r,j=n.disableShrink,d=void 0!==j&&j,O=n.size,m=void 0===O?40:O,x=n.style,h=n.thickness,p=void 0===h?3.6:h,v=n.value,g=void 0===v?0:v,k=n.variant,S=void 0===k?"indeterminate":k,C=Object(c.a)(n,E),_=Object(i.a)({},n,{color:l,disableShrink:d,size:m,thickness:p,value:g,variant:S}),I=function(e){var t=e.classes,n=e.variant,a=e.color,c=e.disableShrink,i={root:["root",n,"color".concat(Object(u.a)(a))],svg:["svg"],circle:["circle","circle".concat(Object(u.a)(n)),c&&"circleDisableShrink"]};return Object(o.a)(i,f,t)}(_),R={},P={},M={};if("determinate"===S){var D=2*Math.PI*((T-p)/2);R.strokeDasharray=D.toFixed(3),M["aria-valuenow"]=Math.round(g),R.strokeDashoffset="".concat(((100-g)/100*D).toFixed(3),"px"),P.transform="rotate(-90deg)"}return Object(y.jsx)(N,Object(i.a)({className:Object(s.a)(I.root,a),style:Object(i.a)({width:m,height:m},P,x),ownerState:_,ref:t,role:"progressbar"},M,C,{children:Object(y.jsx)(w,{className:I.svg,ownerState:_,viewBox:"".concat(22," ").concat(22," ").concat(T," ").concat(T),children:Object(y.jsx)(B,{className:I.circle,style:R,ownerState:_,cx:T,cy:T,r:(T-p)/2,fill:"none",strokeWidth:p})})}))}));t.a=I},740:function(e,t,n){"use strict";var a=n(1),c=(n(2),n(885)),i=n(0);t.a=function(e){var t=e.label,n=void 0===t?null:t,r=e.value,s=void 0===r?"-":r,o=e.orientation,l=void 0===o?"column":o,u=e.stkProps,b=void 0===u?{}:u,j=e.lblProps,d=void 0===j?{}:j,O=e.valProps,f=void 0===O?{}:O;return Object(i.jsxs)(c.a,Object(a.a)(Object(a.a)({direction:{xs:"column",sm:l}},b),{},{children:[Object(i.jsx)("label",Object(a.a)(Object(a.a)({style:{marginRight:5,fontWeight:600}},d),{},{children:n})),Object(i.jsx)("label",Object(a.a)(Object(a.a)({style:{marginRight:5,fontWeight:500}},f),{},{children:s}))]}))}},885:function(e,t,n){"use strict";var a=n(5),c=n(4),i=n(3),r=n(2),s=(n(12),n(23)),o=n(29),l=n(364),u=n(117),b=n(9),j=n(14),d=n(0),O=["component","direction","spacing","divider","children"];function f(e,t){var n=r.Children.toArray(e).filter(Boolean);return n.reduce((function(e,a,c){return e.push(a),c<n.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(c)})),e}),[])}var m=Object(b.a)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,c=Object(i.a)({display:"flex"},Object(s.b)({theme:n},Object(s.d)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var r=Object(o.a)(n),l=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),b=Object(s.d)({values:t.direction,base:l}),j=Object(s.d)({values:t.spacing,base:l});c=Object(u.a)(c,Object(s.b)({theme:n},j,(function(e,n){return{"& > :not(style) + :not(style)":Object(a.a)({margin:0},"margin".concat((c=n?b[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[c])),Object(o.d)(r,e))};var c})))}return c})),x=r.forwardRef((function(e,t){var n=Object(j.a)({props:e,name:"MuiStack"}),a=Object(l.a)(n),r=a.component,s=void 0===r?"div":r,o=a.direction,u=void 0===o?"column":o,b=a.spacing,x=void 0===b?0:b,h=a.divider,p=a.children,v=Object(c.a)(a,O),g={direction:u,spacing:x};return Object(d.jsx)(m,Object(i.a)({as:s,ownerState:g,ref:t},v,{children:h?f(p,h):p}))}));t.a=x},971:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(1),i=n(2),r=n.n(i),s=n(41),o=n(314),l=n(318),u=n(382),b=n(48),j=n.n(b),d=n(439),O=n(30),f=n(120),m=n(53),x=n(24),h=n(6),p=n(42),v=n(427),g=n(740),k=n(408),S=n(381),y=n(467),E=n(0),T=["isLoading","onClick","label"],C=function(e){var t=e.isLoading,n=e.onClick,a=e.label,i=Object(k.a)(e,T);return Object(E.jsx)(S.a,Object(c.a)(Object(c.a)({color:"primary",onClick:n,variant:"text",sx:{padding:0,margin:0,alignItems:"flex-start",justifyContent:"flex-start",display:"inline-flex",height:"auto",textDecoration:"underline",color:"#2781B0","&:hover":{background:"#ffffff",textDecoration:"underline"}},disableRipple:!0,disableFocusRipple:!0},i),{},{children:t?Object(E.jsx)(y.a,{color:"primary",size:16,variant:"indeterminate"}):a}))},_=n(384),N=n(127),w=["disabled","onClick"],B=Object(l.a)((function(e){return Object(o.a)({root:{"&:hover":{backgroundColor:"#E2E2E2"}}})}))((function(e){var t=e.disabled,n=e.onClick,a=Object(k.a)(e,w);return Object(E.jsx)(_.a,Object(c.a)(Object(c.a)({size:"small",disabled:t,onClick:n},a),{},{children:Object(E.jsx)(N.default,{})}))})),I=function(e){var t=e.resourceName,n=e.iamScopes,a=e.children;return Object(E.jsx)(p.a,{scopes:n,resource:t,errorProps:{disabled:!0},children:a})},R=function(e){var t=e.isLoading,n=void 0===t||t,a=e.resourceName,c=void 0===a?"":a,i=e.iamScopes,r=e.property,s=void 0===r?null:r,o=e.value,l=void 0===o?null:o,b=e.onEdit;return Object(E.jsxs)(u.a,{sx:{display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:[Object(E.jsx)(g.a,{label:s,value:Object(E.jsx)(I,{resourceName:c,iamScopes:i,children:Object(E.jsx)(C,{isLoading:n,onClick:b,label:l})})}),Object(E.jsx)(I,{resourceName:c,iamScopes:i,children:Object(E.jsx)(B,{onClick:b,sx:{background:"#f8f8f8",marginLeft:"3px",top:3,"& .min-icon":{width:"16px",height:"16px"}}})})]})},P=n(60),M=n(39),D=function(e){var t=e.bucketSize;return Object(E.jsxs)(u.a,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[Object(E.jsx)(M.Tb,{}),Object(E.jsxs)(u.a,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[Object(E.jsx)("label",{style:{fontWeight:600},children:"Reported Usage:"}),Object(E.jsx)("label",{children:Object(P.l)(t)})]})]})},z=function(e){var t=e.quota;return Object(E.jsxs)(u.a,{sx:{display:"flex",alignItems:"center","& .min-icon":{height:37,width:37}},children:[Object(E.jsx)(M.mb,{}),Object(E.jsxs)(u.a,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"center",flexFlow:"column",marginLeft:"20px",fontSize:"19px"},children:[Object(E.jsxs)("label",{style:{fontWeight:600,textTransform:"capitalize"},children:[null===t||void 0===t?void 0:t.type," Quota"]}),Object(E.jsxs)("label",{children:[" ",Object(P.l)("".concat(null===t||void 0===t?void 0:t.quota))]})]})]})},A=Object(v.a)(r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(71),n.e(114)]).then(n.bind(null,962))}))),L=Object(v.a)(r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(83),n.e(115)]).then(n.bind(null,963))}))),G=Object(v.a)(r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(62),n.e(113)]).then(n.bind(null,964))}))),U=Object(v.a)(r.a.lazy((function(){return Promise.all([n.e(56),n.e(139)]).then(n.bind(null,965))}))),F=(Object(v.a)(r.a.lazy((function(){return n.e(116).then(n.bind(null,966))}))),Object(v.a)(r.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(51),n.e(90)]).then(n.bind(null,967))})))),K={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},V=Object(s.b)((function(e){return{session:e.console.session,distributedSetup:e.system.distributedSetup,loadingBucket:e.buckets.bucketDetails.loadingBucket,bucketInfo:e.buckets.bucketDetails.bucketInfo}}),{setErrorSnackMessage:O.e,setBucketDetailsLoad:x.B});t.default=Object(l.a)((function(e){return Object(o.a)(Object(c.a)(Object(c.a)({},f.A),f.D))}))(V((function(e){var t=e.classes,n=e.match,r=e.distributedSetup,s=e.setErrorSnackMessage,o=e.loadingBucket,l=e.bucketInfo,b=e.setBucketDetailsLoad,O=Object(i.useState)(null),f=Object(a.a)(O,2),x=f[0],v=f[1],k=Object(i.useState)("0"),S=Object(a.a)(k,2),y=S[0],T=S[1],C=Object(i.useState)(!1),_=Object(a.a)(C,2),N=_[0],w=_[1],B=Object(i.useState)(!1),I=Object(a.a)(B,2),P=I[0],M=I[1],V=Object(i.useState)(!1),q=Object(a.a)(V,2),Q=(q[0],q[1]),W=Object(i.useState)(!0),J=Object(a.a)(W,2),Y=J[0],H=J[1],X=Object(i.useState)(!0),Z=Object(a.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(!0),ne=Object(a.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(i.useState)(!0),re=Object(a.a)(ie,2),se=re[0],oe=re[1],le=Object(i.useState)(!0),ue=Object(a.a)(le,2),be=ue[0],je=ue[1],de=Object(i.useState)(!0),Oe=Object(a.a)(de,2),fe=Oe[0],me=Oe[1],xe=Object(i.useState)(!0),he=Object(a.a)(xe,2),pe=he[0],ve=he[1],ge=Object(i.useState)(!0),ke=Object(a.a)(ge,2),Se=ke[0],ye=ke[1],Ee=Object(i.useState)(!1),Te=Object(a.a)(Ee,2),Ce=Te[0],_e=Te[1],Ne=Object(i.useState)(!1),we=Object(a.a)(Ne,2),Be=we[0],Ie=we[1],Re=Object(i.useState)(null),Pe=Object(a.a)(Re,2),Me=Pe[0],De=Pe[1],ze=Object(i.useState)(!1),Ae=Object(a.a)(ze,2),Le=Ae[0],Ge=Ae[1],Ue=Object(i.useState)(!1),Fe=Object(a.a)(Ue,2),Ke=Fe[0],Ve=Fe[1],qe=Object(i.useState)(null),Qe=Object(a.a)(qe,2),We=Qe[0],Je=Qe[1],Ye=Object(i.useState)(!1),He=Object(a.a)(Ye,2),Xe=He[0],Ze=He[1],$e=Object(i.useState)(!1),et=Object(a.a)($e,2),tt=et[0],nt=et[1],at=Object(i.useState)(!1),ct=Object(a.a)(at,2),it=ct[0],rt=ct[1],st=Object(i.useState)(!1),ot=Object(a.a)(st,2),lt=ot[0],ut=ot[1],bt=n.params.bucketName,jt="n/a",dt="";null!==l&&(jt=l.access,dt=l.definition);var Ot=Object(p.b)(bt,[h.f.S3_GET_BUCKET_OBJECT_LOCK_CONFIGURATION]),ft=Object(p.b)(bt,[h.f.S3_GET_BUCKET_ENCRYPTION_CONFIGURATION]),mt=Object(p.b)(bt,[h.f.ADMIN_GET_BUCKET_QUOTA]);Object(i.useEffect)((function(){ce(!!o)}),[o,ce]),Object(i.useEffect)((function(){se&&(ft?m.a.invoke("GET","/api/v1/buckets/".concat(bt,"/encryption/info")).then((function(e){e.algorithm&&(Ge(!0),v(e)),oe(!1)})).catch((function(e){"The server side encryption configuration was not found"===e.errorMessage&&(Ge(!1),v(null)),oe(!1)})):(Ge(!1),v(null),oe(!1)))}),[se,bt,ft]),Object(i.useEffect)((function(){be&&r&&m.a.invoke("GET","/api/v1/buckets/".concat(bt,"/versioning")).then((function(e){_e(e.is_versioned),je(!1)})).catch((function(e){s(e),je(!1)}))}),[be,s,bt,r]),Object(i.useEffect)((function(){fe&&r&&(mt?m.a.invoke("GET","/api/v1/buckets/".concat(bt,"/quota")).then((function(e){De(e),e.quota?Ie(!0):Ie(!1),me(!1)})).catch((function(e){s(e),Ie(!1),me(!1)})):(Ie(!1),me(!1)))}),[fe,je,s,bt,r,mt]),Object(i.useEffect)((function(){be&&r&&(Ot?m.a.invoke("GET","/api/v1/buckets/".concat(bt,"/object-locking")).then((function(e){w(e.object_locking_enabled),H(!1)})).catch((function(e){s(e),H(!1)})):H(!1))}),[Y,s,bt,be,r,Ot]),Object(i.useEffect)((function(){$&&m.a.invoke("GET","/api/v1/buckets").then((function(e){var t=j()(e,"buckets",[]).find((function(e){return e.name===bt})),n=j()(t,"size","0");ee(!1),T(n)})).catch((function(e){ee(!1),s(e)}))}),[$,s,bt]),Object(i.useEffect)((function(){pe&&r&&m.a.invoke("GET","/api/v1/buckets/".concat(bt,"/replication")).then((function(e){var t=e.rules?e.rules:[];Q(t.length>0),ve(!1)})).catch((function(e){s(e),ve(!1)}))}),[pe,s,bt,r]),Object(i.useEffect)((function(){Se&&N&&m.a.invoke("GET","/api/v1/buckets/".concat(bt,"/retention")).then((function(e){ye(!1),Ve(!0),Je(e)})).catch((function(e){Ve(!1),ye(!1),Je(null)}))}),[Se,N,bt]);var xt=function(){b(!0),ce(!0),ee(!0),je(!0),oe(!0),ye(!0)};return Object(E.jsxs)(i.Fragment,{children:[tt&&Object(E.jsx)(G,{open:tt,selectedBucket:bt,encryptionEnabled:Le,encryptionCfg:x,closeModalAndRefresh:function(){nt(!1),oe(!0)}}),it&&Object(E.jsx)(F,{open:it,selectedBucket:bt,enabled:Be,cfg:Me,closeModalAndRefresh:function(){rt(!1),me(!0)}}),P&&Object(E.jsx)(A,{bucketName:bt,open:P,actualPolicy:jt,actualDefinition:dt,closeModalAndRefresh:function(){M(!1),xt()}}),Xe&&Object(E.jsx)(L,{bucketName:bt,open:Xe,closeModalAndRefresh:function(){Ze(!1),xt()}}),lt&&Object(E.jsx)(U,{closeVersioningModalAndRefresh:function(e){ut(!1),e&&xt()},modalOpen:lt,selectedBucket:bt,versioningCurrentState:Ce}),Object(E.jsx)(d.a,{container:!0,children:Object(E.jsx)(d.a,{item:!0,xs:12,className:t.spacerBottom,children:Object(E.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Summary"})})}),Object(E.jsx)(p.a,{scopes:[h.f.S3_GET_BUCKET_POLICY],resource:bt,children:Object(E.jsxs)(u.a,{sx:Object(c.a)({},K),children:[Object(E.jsx)(u.a,{sx:Object(c.a)({},K),children:Object(E.jsx)(p.a,{scopes:[h.f.S3_GET_BUCKET_POLICY],resource:bt,children:Object(E.jsx)(R,{iamScopes:[h.f.S3_PUT_BUCKET_POLICY],resourceName:bt,property:"Access Policy:",value:jt.toLowerCase(),onEdit:function(){M(!0)},isLoading:ae})})}),Object(E.jsx)(u.a,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"},children:Object(E.jsx)(D,{bucketSize:y})})]})}),r&&Object(E.jsxs)(p.a,{scopes:[h.f.S3_GET_BUCKET_VERSIONING],resource:bt,children:[Object(E.jsx)(d.a,{container:!0,children:Object(E.jsx)(d.a,{item:!0,xs:12,className:t.spacerBottom,children:Object(E.jsx)("h3",{style:{marginTop:"25px",marginBottom:"0"},children:"Versioning"})})}),Object(E.jsxs)(u.a,{sx:Object(c.a)({},K),children:[Object(E.jsxs)(u.a,{sx:Object(c.a)({},K),children:[Object(E.jsx)(R,{iamScopes:[h.f.S3_PUT_BUCKET_VERSIONING],resourceName:bt,property:"Versioning:",value:Ce?"Enabled":"Disabled",onEdit:function(){ut(!0)},isLoading:be}),Object(E.jsx)(R,{iamScopes:[h.f.ADMIN_SET_BUCKET_QUOTA],resourceName:bt,property:"Quota:",value:Be?"Enabled":"Disabled",onEdit:function(){rt(!0)},isLoading:fe})]}),Object(E.jsx)(u.a,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"},children:Be&&Me?Object(E.jsx)(z,{quota:Me}):null})]})]}),N&&Object(E.jsxs)(p.a,{scopes:[h.f.S3_GET_OBJECT_RETENTION],resource:bt,children:[Object(E.jsx)(d.a,{container:!0,children:Object(E.jsx)(d.a,{item:!0,xs:12,className:t.spacerBottom,children:Object(E.jsx)("h3",{style:{marginTop:"25px",marginBottom:"0"},children:"Retention"})})}),Object(E.jsxs)(u.a,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},children:[Object(E.jsxs)(u.a,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},children:[Object(E.jsx)(R,{iamScopes:[h.f.ADMIN_SET_BUCKET_QUOTA],resourceName:bt,property:"Retention:",value:Ke?"Enabled":"Disabled",onEdit:function(){Ze(!0)},isLoading:Se}),Object(E.jsx)(g.a,{label:"Mode:",value:Object(E.jsx)("label",{className:t.textMuted,style:{textTransform:"capitalize"},children:We&&We.mode?We.mode:"-"})}),Object(E.jsx)(g.a,{label:"Validity:",value:Object(E.jsxs)("label",{className:t.textMuted,style:{textTransform:"capitalize"},children:[We&&We.validity," ",We&&(1===We.validity?We.unit.slice(0,-1):We.unit)]})})]}),Object(E.jsx)(u.a,{sx:{display:"grid",gridTemplateColumns:"1fr",alignItems:"flex-start"}})]})]})]})})))}}]);
//# sourceMappingURL=112.cb08e95c.chunk.js.map